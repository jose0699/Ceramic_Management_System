<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.21.3.final using JasperReports Library version 6.21.3-4a3078d20785ebe464f18037d738d12fc98c13cf  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="reporteFactura" pageWidth="568" pageHeight="792" columnWidth="568" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="72541820-9049-4e05-bff6-b093860778c8">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Proyecto_BD"/>
	<parameter name="id_Pedido" class="java.lang.Integer">
		<parameterDescription><![CDATA[id del pedido del cual se quiere la factura]]></parameterDescription>
	</parameter>
	<parameter name="Tasa $" class="java.math.BigDecimal">
		<parameterDescription><![CDATA[Tasa para ejecutar la conversión a Bs]]></parameterDescription>
	</parameter>
	<queryString language="SQL">
		<![CDATA[WITH x AS(
	SELECT f.numero_factura FROM factura f, pedido p 
	WHERE p.uid_pedido = f.uid_pedido
	AND f.uid_pedido = $P{id_Pedido} 
)


SELECT * FROM x, datos_basico_factura(x.numero_factura)]]>
	</queryString>
	<field name="numero_factura" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="numero_factura"/>
		<property name="com.jaspersoft.studio.field.label" value="numero_factura"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="factura"/>
	</field>
	<field name="uid_pedido" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="uid_pedido"/>
		<property name="com.jaspersoft.studio.field.label" value="uid_pedido"/>
	</field>
	<field name="fecha_emision" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="fecha_emision"/>
		<property name="com.jaspersoft.studio.field.label" value="fecha_emision"/>
	</field>
	<field name="nombre_cliente" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="nombre_cliente"/>
		<property name="com.jaspersoft.studio.field.label" value="nombre_cliente"/>
	</field>
	<field name="tipo_pedido" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="tipo_pedido"/>
		<property name="com.jaspersoft.studio.field.label" value="tipo_pedido"/>
	</field>
	<field name="monto_sin_descuento" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="monto_sin_descuento"/>
		<property name="com.jaspersoft.studio.field.label" value="monto_sin_descuento"/>
	</field>
	<field name="descuento" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="descuento"/>
		<property name="com.jaspersoft.studio.field.label" value="descuento"/>
	</field>
	<field name="monto_descontado" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="monto_descontado"/>
		<property name="com.jaspersoft.studio.field.label" value="monto_descontado"/>
	</field>
	<field name="monto_total" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="monto_total"/>
		<property name="com.jaspersoft.studio.field.label" value="monto_total"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="66" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="1" width="567" height="65" forecolor="#778C43" uuid="153bdd2b-d357-445c-bb7e-cb78a95b2127"/>
				<box topPadding="8" leftPadding="2" bottomPadding="6" rightPadding="6">
					<pen lineStyle="Solid" lineColor="#0B6233"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.5" lineStyle="Solid" lineColor="#0B6233"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Poppins SemiBold" size="26"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<textField pattern="MMMMM &apos;de&apos; yyyy" isBlankWhenNull="true">
				<reportElement x="20" y="35" width="547" height="31" forecolor="#000000" uuid="9d36a4d4-145e-426d-a8b6-a51f6c05afd3"/>
				<box padding="4">
					<pen lineColor="#7DA44E"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Poppins Medium" size="15" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["FACTURA"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="5" width="242" height="30" uuid="93d50ff7-7d01-4ed4-85d1-67f1fe408a1d"/>
				<box padding="4">
					<pen lineColor="#7DA44E"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Left">
					<font fontName="Poppins" size="13" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Fecha: " + $F{fecha_emision}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="325" y="5" width="242" height="30" uuid="ed85dddd-cb16-48c3-a31d-b74d590ae3ca"/>
				<box padding="4">
					<pen lineColor="#7DA44E"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Poppins" size="13" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Factura N° " +$F{numero_factura}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="87" splitType="Stretch">
			<textField>
				<reportElement x="0" y="10" width="280" height="29" uuid="42e63061-a90f-4e0e-9942-6324d5fe70bd">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box padding="5">
					<bottomPen lineWidth="0.0" lineColor="#4E9171"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Left" markup="html">
					<font fontName="Poppins" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA["NOMBRE O RAZÓN SOCIAL: "+$F{nombre_cliente}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.##%">
				<reportElement x="0" y="40" width="287" height="29" uuid="40da92fa-e9de-4159-a0d7-d6b9c05d36f8">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<printWhenExpression><![CDATA[$F{descuento} != new BigDecimal(0)]]></printWhenExpression>
				</reportElement>
				<box padding="5">
					<bottomPen lineWidth="0.0" lineColor="#4E9171"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement markup="html">
					<font fontName="Poppins" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA["DESCUENTO APLICADO: "+ROUND_DOWN($F{descuento},0)+"%"]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.##">
				<reportElement x="287" y="10" width="275" height="29" uuid="85f0736e-fd2e-43a0-9764-95e3dd7fac3e">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<printWhenExpression><![CDATA[$F{tipo_pedido}.equalsIgnoreCase("F")]]></printWhenExpression>
				</reportElement>
				<box padding="5">
					<bottomPen lineWidth="0.0" lineColor="#4E9171"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right" markup="html">
					<font fontName="Poppins" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA["TASA BCV: "+$P{Tasa $}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="135" splitType="Stretch">
			<staticText>
				<reportElement positionType="Float" mode="Opaque" x="5" y="72" width="175" height="30" isRemoveLineWhenBlank="true" forecolor="#FFFFFF" backcolor="#7DA44E" uuid="cc8902d3-8760-4c7b-b2f0-eb64e5418355">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7e44ceea-9097-4c52-9017-e03b508a6695"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box topPadding="5" leftPadding="12" bottomPadding="5" rightPadding="5">
					<pen lineStyle="Dashed" lineColor="#0B6233"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<font fontName="Poppins Medium" size="13" isBold="true"/>
				</textElement>
				<text><![CDATA[TOTAL SIN DESCUENTO:]]></text>
			</staticText>
			<textField pattern="#,##0.00¤;#,##0.00 ¤">
				<reportElement positionType="Float" x="165" y="105" width="402" height="29" isRemoveLineWhenBlank="true" uuid="1bf64821-a397-40b1-8493-070addcaa008">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<printWhenExpression><![CDATA[$F{tipo_pedido}.equalsIgnoreCase("F")]]></printWhenExpression>
				</reportElement>
				<box topPadding="5" leftPadding="10" bottomPadding="5" rightPadding="5">
					<pen lineWidth="1.0" lineColor="#7DA44E"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Poppins" size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{monto_total}.add($F{monto_sin_descuento}.multiply(new BigDecimal(0.16))).multiply($P{Tasa $})]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00¤;#,##0.00 ¤">
				<reportElement positionType="Float" x="180" y="5" width="387" height="29" isRemoveLineWhenBlank="true" uuid="0d345ee0-4dc8-4297-b4ea-2a0774a3ddce">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<printWhenExpression><![CDATA[$F{tipo_pedido}.equalsIgnoreCase("F")]]></printWhenExpression>
				</reportElement>
				<box topPadding="5" leftPadding="10" bottomPadding="5" rightPadding="5">
					<pen lineWidth="1.0" lineColor="#7DA44E"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Poppins" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{monto_sin_descuento}.multiply(new BigDecimal(0.16)).multiply($P{Tasa $})]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" mode="Opaque" x="5" y="5" width="175" height="30" isRemoveLineWhenBlank="true" forecolor="#FFFFFF" backcolor="#7DA44E" uuid="bb2cb1c1-f722-43ce-a4ad-27c72f68334b">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7e44ceea-9097-4c52-9017-e03b508a6695"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<printWhenExpression><![CDATA[$F{tipo_pedido}.equalsIgnoreCase("F")]]></printWhenExpression>
				</reportElement>
				<box topPadding="5" leftPadding="12" bottomPadding="5" rightPadding="5">
					<pen lineStyle="Dashed" lineColor="#0B6233"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<font fontName="Poppins Medium" size="13" isBold="true"/>
				</textElement>
				<text><![CDATA[IVA (16%):]]></text>
			</staticText>
			<staticText>
				<reportElement positionType="Float" mode="Opaque" x="5" y="105" width="175" height="30" isRemoveLineWhenBlank="true" forecolor="#FFFFFF" backcolor="#0B6233" uuid="6ba7ed50-323b-4c20-a115-dca68901f38b">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7e44ceea-9097-4c52-9017-e03b508a6695"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box topPadding="5" leftPadding="12" bottomPadding="5" rightPadding="5">
					<pen lineStyle="Dashed" lineColor="#0B6233"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<font fontName="Poppins Medium" size="13" isBold="true"/>
				</textElement>
				<text><![CDATA[TOTAL A PAGAR:]]></text>
			</staticText>
			<textField pattern="#,##0.00¤;#,##0.00 ¤">
				<reportElement positionType="Float" x="165" y="38" width="402" height="29" isRemoveLineWhenBlank="true" uuid="888aecca-5b0c-48b0-ad37-35ddf9d5a961">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<printWhenExpression><![CDATA[$F{descuento} != new BigDecimal(0) && $F{tipo_pedido}.equalsIgnoreCase("F")]]></printWhenExpression>
				</reportElement>
				<box topPadding="5" leftPadding="10" bottomPadding="5" rightPadding="5">
					<pen lineWidth="1.0" lineColor="#7DA44E"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Poppins" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{monto_descontado}.multiply($P{Tasa $})]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" mode="Opaque" x="5" y="38" width="175" height="30" isRemoveLineWhenBlank="true" forecolor="#FFFFFF" backcolor="#7DA44E" uuid="fdb6a9cd-91d0-4a2b-b641-2d326f49ab70">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7e44ceea-9097-4c52-9017-e03b508a6695"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<printWhenExpression><![CDATA[$F{descuento} != new BigDecimal(0)]]></printWhenExpression>
				</reportElement>
				<box topPadding="5" leftPadding="12" bottomPadding="5" rightPadding="5">
					<pen lineStyle="Dashed" lineColor="#0B6233"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<font fontName="Poppins Medium" size="13" isBold="true"/>
				</textElement>
				<text><![CDATA[DESCUENTO TOTAL:]]></text>
			</staticText>
			<textField pattern="$#,##0.00;#,##0.00">
				<reportElement positionType="Float" x="165" y="72" width="403" height="29" isRemoveLineWhenBlank="true" uuid="0976565f-6d1a-4457-924f-c5ef0153bfb8">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<printWhenExpression><![CDATA[$F{tipo_pedido}.equalsIgnoreCase("I")]]></printWhenExpression>
				</reportElement>
				<box padding="8" topPadding="5" leftPadding="10" bottomPadding="5" rightPadding="5">
					<pen lineWidth="1.0" lineColor="#7DA44E"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Poppins" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{monto_sin_descuento}]]></textFieldExpression>
			</textField>
			<textField pattern="$#,##0.00;#,##0.00">
				<reportElement positionType="Float" x="180" y="38" width="387" height="29" isRemoveLineWhenBlank="true" uuid="4c5a51fb-402b-4eb2-b0a7-3919b18c7ee3">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<printWhenExpression><![CDATA[$F{descuento} != new BigDecimal(0) && $F{tipo_pedido}.equalsIgnoreCase("I")]]></printWhenExpression>
				</reportElement>
				<box topPadding="5" leftPadding="10" bottomPadding="5" rightPadding="5">
					<pen lineWidth="1.0" lineColor="#7DA44E"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Poppins" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{monto_descontado}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00¤;#,##0.00 ¤">
				<reportElement positionType="Float" x="180" y="72" width="388" height="29" isRemoveLineWhenBlank="true" uuid="aa8519e4-60f8-4928-9e04-455f93df5a2b">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<printWhenExpression><![CDATA[$F{tipo_pedido}.equalsIgnoreCase("F")]]></printWhenExpression>
				</reportElement>
				<box padding="8" topPadding="5" leftPadding="10" bottomPadding="5" rightPadding="5">
					<pen lineWidth="1.0" lineColor="#7DA44E"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Poppins" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{monto_sin_descuento}.multiply($P{Tasa $})]]></textFieldExpression>
			</textField>
			<textField pattern="$#,##0.00;#,##0.00">
				<reportElement positionType="Float" x="180" y="105" width="387" height="29" isRemoveLineWhenBlank="true" uuid="109b80c7-9479-408a-908f-60945135ab90">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<printWhenExpression><![CDATA[$F{tipo_pedido}.equalsIgnoreCase("I")]]></printWhenExpression>
				</reportElement>
				<box topPadding="5" leftPadding="10" bottomPadding="5" rightPadding="5">
					<pen lineWidth="1.0" lineColor="#7DA44E"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Poppins" size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{monto_total}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
