<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.21.3.final using JasperReports Library version 6.21.3-4a3078d20785ebe464f18037d738d12fc98c13cf  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="subrVaj" pageWidth="570" pageHeight="792" columnWidth="570" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="721b9d5f-769b-4cdb-9e40-ec38020056e1">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Proyecto_BD"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<parameter name="id coleccion" class="java.lang.Integer">
		<parameterDescription><![CDATA[id de la coleccion de la que se requiere el catálogo]]></parameterDescription>
	</parameter>
	<parameter name="Tasa $" class="java.math.BigDecimal">
		<parameterDescription><![CDATA[Tasa para ejecutar la conversión a Bs]]></parameterDescription>
	</parameter>
	<parameter name="fecha_inicio" class="java.sql.Date">
		<parameterDescription><![CDATA[fecha desde la cual se quiere buscar los precios]]></parameterDescription>
	</parameter>
	<parameter name="fecha_fin" class="java.sql.Date">
		<parameterDescription><![CDATA[fecha hasta la cual se quiere buscar los precios]]></parameterDescription>
	</parameter>
	<queryString language="SQL">
		<![CDATA[SELECT DISTINCT
	v.uid_juego,
	v.nombre,
	calcular_precio_vajilla(v.uid_juego, d.uid_coleccion, $P{fecha_inicio},  $P{fecha_fin} ) precio,
	CASE
	  WHEN c.linea = 'F' THEN 'Familiar'
	  WHEN c.linea = 'I' THEN 'Institucional'
	END linea
FROM coleccion c, vajilla v, detalle_pieza_vajilla d 
WHERE v.uid_juego = d.uid_juego
AND c.uid_coleccion = d.uid_coleccion
AND d.uid_coleccion = $P{id coleccion}]]>
	</queryString>
	<field name="uid_juego" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="uid_juego"/>
		<property name="com.jaspersoft.studio.field.label" value="uid_juego"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="vajilla"/>
	</field>
	<field name="nombre" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="nombre"/>
		<property name="com.jaspersoft.studio.field.label" value="nombre"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="vajilla"/>
	</field>
	<field name="precio" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="precio"/>
		<property name="com.jaspersoft.studio.field.label" value="precio"/>
	</field>
	<field name="linea" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="linea"/>
		<property name="com.jaspersoft.studio.field.label" value="linea"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="30">
			<staticText>
				<reportElement mode="Opaque" x="0" y="0" width="570" height="30" forecolor="#FFFFFF" backcolor="#0B6233" uuid="4077b213-379e-4403-8780-ccdac3724cc5">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7e44ceea-9097-4c52-9017-e03b508a6695"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box topPadding="5" leftPadding="12" bottomPadding="5" rightPadding="5">
					<pen lineStyle="Dashed" lineColor="#75FFA5"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Poppins Medium" size="13" isBold="true"/>
				</textElement>
				<text><![CDATA[VAJILLAS]]></text>
			</staticText>
		</band>
	</title>
	<columnHeader>
		<band height="30" splitType="Stretch">
			<staticText>
				<reportElement mode="Opaque" x="0" y="0" width="100" height="30" forecolor="#FFFFFF" backcolor="#7DA44E" uuid="75c6d574-9be2-446f-ba3b-5a0d8b6df217">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7e44ceea-9097-4c52-9017-e03b508a6695"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box topPadding="5" leftPadding="12" bottomPadding="5" rightPadding="5">
					<pen lineStyle="Dashed" lineColor="#75FFA5"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<font fontName="Poppins Medium" size="13" isBold="true"/>
				</textElement>
				<text><![CDATA[ID]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="100" y="0" width="220" height="30" forecolor="#FFFFFF" backcolor="#7DA44E" uuid="eba3b10b-bd70-452b-a502-54894311c4ca">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7e44ceea-9097-4c52-9017-e03b508a6695"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box topPadding="5" leftPadding="12" bottomPadding="5" rightPadding="5">
					<pen lineStyle="Dashed" lineColor="#75FFA5"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<font fontName="Poppins Medium" size="13" isBold="true"/>
				</textElement>
				<text><![CDATA[NOMRE]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="320" y="0" width="130" height="30" forecolor="#FFFFFF" backcolor="#7DA44E" uuid="a4326546-0e20-4136-bc1c-c89cd4094d23">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7e44ceea-9097-4c52-9017-e03b508a6695"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box topPadding="5" leftPadding="12" bottomPadding="5" rightPadding="5">
					<pen lineStyle="Dashed" lineColor="#75FFA5"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Poppins Medium" size="13" isBold="true"/>
				</textElement>
				<text><![CDATA[PRECIO $]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="450" y="0" width="120" height="30" forecolor="#FFFFFF" backcolor="#7DA44E" uuid="a485d479-e33e-46bd-9aa2-e7eb6475cfe4">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7e44ceea-9097-4c52-9017-e03b508a6695"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<printWhenExpression><![CDATA[$F{linea}.equals("Familiar")]]></printWhenExpression>
				</reportElement>
				<box topPadding="5" leftPadding="12" bottomPadding="5" rightPadding="5">
					<pen lineStyle="Dashed" lineColor="#75FFA5"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Poppins Medium" size="13" isBold="true"/>
				</textElement>
				<text><![CDATA[PRECIO Bs.S]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="30" splitType="Stretch">
			<textField pattern="$#,##0.##;¤-#,##0.##" isBlankWhenNull="true">
				<reportElement x="320" y="0" width="130" height="30" uuid="a2c29a39-72a4-46a2-b436-b87a9988d41b"/>
				<box topPadding="5" leftPadding="12" bottomPadding="5" rightPadding="5">
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Poppins" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{precio}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="100" y="0" width="220" height="30" uuid="a0d5bb1d-9a0e-4734-84c6-d7e57d0ca89f"/>
				<box topPadding="5" leftPadding="12" bottomPadding="5" rightPadding="5">
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Left">
					<font fontName="Poppins" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nombre}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="100" height="30" uuid="8bbd7fb0-381e-44ff-a691-ddbea729b51f"/>
				<box topPadding="5" leftPadding="13" bottomPadding="5" rightPadding="5">
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Left">
					<font fontName="Poppins" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA["#"+$F{uid_juego}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.##¤;(#,##0.##) ¤" isBlankWhenNull="true">
				<reportElement x="450" y="0" width="120" height="30" uuid="ec234237-71ed-4f48-9b94-7a4fba5f2937">
					<printWhenExpression><![CDATA[$F{linea}.equals("Familiar")]]></printWhenExpression>
				</reportElement>
				<box topPadding="5" leftPadding="12" bottomPadding="5" rightPadding="5">
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Poppins" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{precio}.multiply($P{Tasa $})]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
